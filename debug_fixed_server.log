2025-08-04 17:39:33,845 - asyncio - DEBUG - Using selector: KqueueSelector
INFO:     Started server process [18288]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
üîß MODULE LOADED: document_tools.py at /Users/saadahmed/Desktop/Apps/AWS_Extra/Agent/tools/document_tools.py
INFO:     127.0.0.1:59004 - "GET /health HTTP/1.1" 200 OK
2025-08-04 17:39:55,070 - orchestrator_v2.state_management - INFO - Loaded persistent state from disk
2025-08-04 17:39:55,365 - orchestrator_v2.agent_identity - INFO - Initialized AI Finance and Risk Agent v2.0.0
2025-08-04 17:39:55,369 - tools.synthesis_tools - INFO - Synthesis LLM initialized successfully with model: claude-3-5-sonnet-20241022
2025-08-04 17:39:55,778 - matplotlib - DEBUG - matplotlib data path: /Users/saadahmed/Desktop/Apps/AWS_Extra/Agent/venv/lib/python3.13/site-packages/matplotlib/mpl-data
2025-08-04 17:39:55,783 - matplotlib - DEBUG - CONFIGDIR=/Users/saadahmed/.matplotlib
2025-08-04 17:39:55,783 - matplotlib - DEBUG - interactive is False
2025-08-04 17:39:55,783 - matplotlib - DEBUG - platform is darwin
2025-08-04 17:39:55,828 - matplotlib - DEBUG - CACHEDIR=/Users/saadahmed/.matplotlib
2025-08-04 17:39:55,831 - matplotlib.font_manager - DEBUG - Using fontManager instance from /Users/saadahmed/.matplotlib/fontlist-v390.json
2025-08-04 17:39:56,887 - orchestrator_v2.state_management - INFO - Loaded persistent state from disk
2025-08-04 17:39:56,888 - orchestrator_v2.orchestrator_v2 - INFO - Orchestrator 2.0 LLM initialized: claude-3-5-sonnet-20241022
2025-08-04 17:39:56,888 - orchestrator_v2.planning_engine - INFO - Fixed Planning Engine initialized
2025-08-04 17:39:56,888 - orchestrator_v2.planning_engine_enhanced - INFO - Enhanced Planning Engine initialized with AI Finance and Risk Agent
2025-08-04 17:39:56,888 - orchestrator_v2.tool_registry - INFO - Registered tool: upload_document (category: document)
2025-08-04 17:39:56,888 - orchestrator_v2.tool_registry - INFO - Registered tool: discover_document_structure (category: document)
2025-08-04 17:39:56,888 - orchestrator_v2.tool_registry - INFO - Registered tool: search_uploaded_docs (category: search)
2025-08-04 17:39:56,888 - orchestrator_v2.tool_registry - INFO - Registered tool: search_multiple_docs (category: search)
2025-08-04 17:39:56,888 - orchestrator_v2.tool_registry - INFO - Registered tool: get_all_documents (category: document)
2025-08-04 17:39:56,888 - orchestrator_v2.tool_registry - INFO - Registered tool: remove_document (category: document)
2025-08-04 17:39:56,888 - orchestrator_v2.tool_registry - INFO - Registered tool: synthesize_content (category: synthesis)
2025-08-04 17:39:56,888 - orchestrator_v2.tool_registry - INFO - Registered tool: search_knowledge_base (category: search)
2025-08-04 17:39:56,888 - orchestrator_v2.tool_registry - INFO - Registered tool: search_conversation_history (category: search)
2025-08-04 17:39:56,888 - orchestrator_v2.tool_registry - INFO - Registered tool: execute_python_code (category: computation)
2025-08-04 17:39:56,888 - orchestrator_v2.tool_registry - INFO - Registered tool: process_table_data (category: computation)
2025-08-04 17:39:56,889 - orchestrator_v2.tool_registry - INFO - Registered tool: calculate_statistics (category: computation)
2025-08-04 17:39:56,889 - orchestrator_v2.tool_registry - INFO - Registered tool: create_chart (category: visualization)
2025-08-04 17:39:56,889 - orchestrator_v2.tool_registry - INFO - Registered tool: create_wordcloud (category: visualization)
2025-08-04 17:39:56,889 - orchestrator_v2.tool_registry - INFO - Registered tool: create_statistical_plot (category: visualization)
2025-08-04 17:39:56,889 - orchestrator_v2.tool_registry - INFO - Registered tool: create_comparison_chart (category: visualization)
2025-08-04 17:39:56,889 - orchestrator_v2.tool_registry - INFO - Registered tool: analyze_text_metrics (category: analysis)
2025-08-04 17:39:56,889 - orchestrator_v2.tool_registry - INFO - Registered tool: extract_key_phrases (category: analysis)
2025-08-04 17:39:56,889 - orchestrator_v2.tool_registry - INFO - Registered tool: analyze_sentiment (category: analysis)
2025-08-04 17:39:56,889 - orchestrator_v2.tool_registry - INFO - Registered tool: extract_entities (category: analysis)
2025-08-04 17:39:56,889 - orchestrator_v2.orchestrator_v2 - INFO - Registered 20 tools across 6 categories
2025-08-04 17:39:56,889 - orchestrator_v2.orchestrator_v2 - INFO - Orchestrator 2.0 initialized successfully
2025-08-04 17:39:56,889 - orchestrator_integration - INFO - ‚úÖ Orchestrator 2.0 initialized successfully
INFO:     127.0.0.1:59102 - "GET /system/status HTTP/1.1" 200 OK
2025-08-04 17:39:56,894 - __main__ - INFO - Frontend Chat request - session: terminal-test-session, query: --query how are risk and finance related, correlation_id: 5a1bb6c1-7ce0-4c50-99c8-fc041ff0957e
2025-08-04 17:39:56,894 - __main__ - INFO - Loaded memory context - short_term: 7, summaries: 3
2025-08-04 17:39:56,895 - orchestrator_integration - INFO - üöÄ Using Orchestrator 2.0
2025-08-04 17:39:56,895 - orchestrator_v2.orchestrator_v2 - INFO - üöÄ Orchestrator 2.0 executing query: --query how are risk and finance related...
2025-08-04 17:39:56,895 - orchestrator_v2.orchestrator_v2 - INFO - üìã Execution ID: 8d5e70df-f570-4136-8521-c0bffe0f76ac, Strategy: adaptive
2025-08-04 17:39:56,895 - orchestrator_v2.orchestrator_v2 - INFO - ü§î Generating execution plan...
2025-08-04 17:39:56,895 - orchestrator_v2.planning_engine_enhanced - INFO - üéØ AI Finance and Risk Agent creating plan for: '--query how are risk and finance related...'
2025-08-04 17:39:56,895 - orchestrator_v2.planning_engine_enhanced - INFO - üìã Classified workflow: document_analysis
2025-08-04 17:39:56,895 - orchestrator_v2.planning_engine_enhanced - INFO - üíæ Primary memory source: uploaded_documents
2025-08-04 17:39:56,895 - orchestrator_v2.planning_engine_enhanced - INFO - üîç DOCUMENT ANALYSIS DEBUG: active_documents=['20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf'], doc_name=20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf
2025-08-04 17:39:56,895 - orchestrator_v2.planning_engine_enhanced - INFO - ‚úÖ Created document_analysis plan with 2 steps
2025-08-04 17:39:56,895 - orchestrator_v2.orchestrator_v2 - INFO - üìã Created plan with 2 steps
2025-08-04 17:39:56,895 - orchestrator_v2.orchestrator_v2 - INFO - ‚ö° Starting plan execution...
2025-08-04 17:39:56,895 - orchestrator_v2.execution_engine - INFO - Starting execution of plan: doc_analysis_1754343596
2025-08-04 17:39:56,895 - orchestrator_v2.execution_engine - INFO - Executing step: search_document (search_uploaded_docs)
2025-08-04 17:39:56,895 - orchestrator_v2.execution_engine - INFO - üîç EXECUTION DEBUG: tool=search_uploaded_docs, resolved_params={'doc_name': '20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf', 'query': '--query how are risk and finance related'}
2025-08-04 17:39:56,904 - orchestrator_v2.execution_engine - INFO - Step 'search_document' completed successfully
2025-08-04 17:39:56,904 - orchestrator_v2.execution_engine - INFO - Executing step: synthesize_analysis (synthesize_content)
2025-08-04 17:39:56,904 - tools.synthesis_tools - INFO - Synthesizing analysis for query: '--query how are risk and finance related' from 0 documents
2025-08-04 17:39:56,904 - orchestrator_v2.execution_engine - INFO - Step 'synthesize_analysis' completed successfully
2025-08-04 17:39:56,904 - orchestrator_v2.execution_engine - INFO - Plan execution completed. Success: 2, Failed: 0
2025-08-04 17:39:56,946 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'files': None, 'idempotency_key': 'stainless-python-retry-2376807b-ddbf-4d8f-923e-8c5e1346e319', 'json_data': {'max_tokens': 1024, 'messages': [{'role': 'user', 'content': '\nUser Query: "--query how are risk and finance related"\n\nI have gathered the following information using multiple analysis tools:\n\n## Analysis 1 (search_uploaded_docs, confidence: 0.95):\n[]...\n\n## Analysis 2 (synthesize_content, confidence: 0.95):\n{\'error_type\': \'no_documents_provided\', \'success\': False, \'message\': \'No documents provided for synthesis\', \'suggested_action\': \'provide_document_content_or_search_results\', \'retryable\': False, \'replanning_hints\': {\'synthesis_failed\': True, \'reason\': \'No documents provided for synthesis\'}}...\n\n\nPlease create a comprehensive, well-structured response that directly answers the user\'s query by intelligently combining the above information.\n\nRequirements:\n- Start with a direct answer to their question\n- Include the most relevant details from the analysis\n- Be concise but thorough\n- Use a professional, helpful tone\n- Structure the response logically\n\nFinal Response:'}], 'model': 'claude-3-5-sonnet-20241022', 'temperature': 0.0}}
2025-08-04 17:39:56,947 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-08-04 17:39:56,952 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=None socket_options=None
2025-08-04 17:39:56,972 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x135de57f0>
2025-08-04 17:39:56,972 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x135d8d9a0> server_hostname='api.anthropic.com' timeout=None
2025-08-04 17:39:56,991 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x135b734d0>
2025-08-04 17:39:56,992 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-08-04 17:39:56,992 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-04 17:39:56,992 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-08-04 17:39:56,992 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-04 17:39:56,992 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-08-04 17:40:02,242 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 04 Aug 2025 21:40:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'160000'), (b'anthropic-ratelimit-input-tokens-remaining', b'160000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-08-04T21:39:57Z'), (b'anthropic-ratelimit-output-tokens-limit', b'32000'), (b'anthropic-ratelimit-output-tokens-remaining', b'32000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-08-04T21:40:02Z'), (b'anthropic-ratelimit-requests-limit', b'2000'), (b'anthropic-ratelimit-requests-remaining', b'1999'), (b'anthropic-ratelimit-requests-reset', b'2025-08-04T21:39:57Z'), (b'anthropic-ratelimit-tokens-limit', b'192000'), (b'anthropic-ratelimit-tokens-remaining', b'192000'), (b'anthropic-ratelimit-tokens-reset', b'2025-08-04T21:39:57Z'), (b'request-id', b'req_011CRoPrJ5Yx2UokaLr5GZaJ'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'31219faf-91cc-482b-93f4-cc5aadc25785'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96a135d97ac8a246-YYZ'), (b'Content-Encoding', b'gzip')])
2025-08-04 17:40:02,244 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-04 17:40:02,244 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-08-04 17:40:02,244 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-04 17:40:02,244 - httpcore.http11 - DEBUG - response_closed.started
2025-08-04 17:40:02,245 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-04 17:40:02,245 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 04 Aug 2025 21:40:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '160000', 'anthropic-ratelimit-input-tokens-remaining': '160000', 'anthropic-ratelimit-input-tokens-reset': '2025-08-04T21:39:57Z', 'anthropic-ratelimit-output-tokens-limit': '32000', 'anthropic-ratelimit-output-tokens-remaining': '32000', 'anthropic-ratelimit-output-tokens-reset': '2025-08-04T21:40:02Z', 'anthropic-ratelimit-requests-limit': '2000', 'anthropic-ratelimit-requests-remaining': '1999', 'anthropic-ratelimit-requests-reset': '2025-08-04T21:39:57Z', 'anthropic-ratelimit-tokens-limit': '192000', 'anthropic-ratelimit-tokens-remaining': '192000', 'anthropic-ratelimit-tokens-reset': '2025-08-04T21:39:57Z', 'request-id': 'req_011CRoPrJ5Yx2UokaLr5GZaJ', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '31219faf-91cc-482b-93f4-cc5aadc25785', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96a135d97ac8a246-YYZ', 'content-encoding': 'gzip'})
2025-08-04 17:40:02,245 - anthropic._base_client - DEBUG - request_id: req_011CRoPrJ5Yx2UokaLr5GZaJ
2025-08-04 17:40:02,255 - orchestrator_v2.state_management - DEBUG - Cleaned up execution state for: 8d5e70df-f570-4136-8521-c0bffe0f76ac
2025-08-04 17:40:02,255 - orchestrator_v2.orchestrator_v2 - INFO - ‚úÖ Execution completed with 0.95 confidence
2025-08-04 17:40:02,255 - orchestrator_integration - INFO - ‚úÖ Orchestrator 2.0 completed with 0.95 confidence
2025-08-04 17:40:02,256 - __main__ - INFO - Added assistant response to memory - length: 1437
2025-08-04 17:40:02,256 - __main__ - INFO - Chat response generated - session: terminal-test-session, processing_time: 5361ms, correlation_id: 5a1bb6c1-7ce0-4c50-99c8-fc041ff0957e
üîç EXECUTION PRINT: About to call search_uploaded_docs with params {'doc_name': '20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf', 'query': '--query how are risk and finance related'}
üîç FUNCTION CALLED: search_uploaded_docs with doc_name='20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf'
üîç SEARCH DEBUG: doc_name='20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf', in_store=True, store_keys=6
‚úÖ SEARCH SUCCESS: Document found with 1 chunks
üîç QUERY FILTER: 0 chunks after query filter (was 1)
üîç FINAL RESULT: Returning 0 chunks
üîß STEP OUTPUT DEBUG: search_document -> <class 'list'> with 0 items
üîß SYNTHESIS DEBUG: resolved_params={'documents': [], 'query': '--query how are risk and finance related', 'synthesis_type': 'analysis'}
üîß SYNTHESIS DEBUG: available step_outputs=['search_document']
üîß STEP OUTPUT DEBUG: synthesize_analysis -> <class 'dict'> with non-list items
INFO:     127.0.0.1:59121 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:60753 - "GET /system/status HTTP/1.1" 200 OK
2025-08-04 17:42:51,530 - __main__ - INFO - Frontend Chat request - session: terminal-test-session, query: --query how are risk and finance related, correlation_id: 679497ac-0828-4fb5-92bd-b449240db9fb
2025-08-04 17:42:51,532 - __main__ - INFO - Loaded memory context - short_term: 9, summaries: 3
2025-08-04 17:42:51,533 - orchestrator_integration - INFO - üöÄ Using Orchestrator 2.0
2025-08-04 17:42:51,533 - orchestrator_v2.orchestrator_v2 - INFO - üöÄ Orchestrator 2.0 executing query: --query how are risk and finance related...
2025-08-04 17:42:51,533 - orchestrator_v2.orchestrator_v2 - INFO - üìã Execution ID: dd7af4ba-dd7d-4c50-9f39-76444ac4df26, Strategy: adaptive
2025-08-04 17:42:51,533 - orchestrator_v2.orchestrator_v2 - INFO - ü§î Generating execution plan...
2025-08-04 17:42:51,533 - orchestrator_v2.planning_engine_enhanced - INFO - üéØ AI Finance and Risk Agent creating plan for: '--query how are risk and finance related...'
2025-08-04 17:42:51,533 - orchestrator_v2.planning_engine_enhanced - INFO - üìã Classified workflow: document_analysis
2025-08-04 17:42:51,533 - orchestrator_v2.planning_engine_enhanced - INFO - üíæ Primary memory source: uploaded_documents
2025-08-04 17:42:51,533 - orchestrator_v2.planning_engine_enhanced - INFO - üîç DOCUMENT ANALYSIS DEBUG: active_documents=['20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf'], doc_name=20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf
2025-08-04 17:42:51,533 - orchestrator_v2.planning_engine_enhanced - INFO - ‚úÖ Created document_analysis plan with 2 steps
2025-08-04 17:42:51,533 - orchestrator_v2.orchestrator_v2 - INFO - üìã Created plan with 2 steps
2025-08-04 17:42:51,533 - orchestrator_v2.orchestrator_v2 - INFO - ‚ö° Starting plan execution...
2025-08-04 17:42:51,533 - orchestrator_v2.execution_engine - INFO - Starting execution of plan: doc_analysis_1754343771
2025-08-04 17:42:51,533 - orchestrator_v2.execution_engine - INFO - Executing step: search_document (search_uploaded_docs)
2025-08-04 17:42:51,533 - orchestrator_v2.execution_engine - INFO - üîç EXECUTION DEBUG: tool=search_uploaded_docs, resolved_params={'doc_name': '20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf', 'query': '--query how are risk and finance related'}
2025-08-04 17:42:51,545 - orchestrator_v2.execution_engine - INFO - Step 'search_document' completed successfully
2025-08-04 17:42:51,545 - orchestrator_v2.execution_engine - INFO - Executing step: synthesize_analysis (synthesize_content)
2025-08-04 17:42:51,545 - tools.synthesis_tools - INFO - Synthesizing analysis for query: '--query how are risk and finance related' from 0 documents
2025-08-04 17:42:51,545 - orchestrator_v2.execution_engine - INFO - Step 'synthesize_analysis' completed successfully
2025-08-04 17:42:51,545 - orchestrator_v2.execution_engine - INFO - Plan execution completed. Success: 2, Failed: 0
2025-08-04 17:42:51,546 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'files': None, 'idempotency_key': 'stainless-python-retry-e4f27e4e-6b80-407e-9529-8ed55644943e', 'json_data': {'max_tokens': 1024, 'messages': [{'role': 'user', 'content': '\nUser Query: "--query how are risk and finance related"\n\nI have gathered the following information using multiple analysis tools:\n\n## Analysis 1 (search_uploaded_docs, confidence: 0.95):\n[]...\n\n## Analysis 2 (synthesize_content, confidence: 0.95):\n{\'error_type\': \'no_documents_provided\', \'success\': False, \'message\': \'No documents provided for synthesis\', \'suggested_action\': \'provide_document_content_or_search_results\', \'retryable\': False, \'replanning_hints\': {\'synthesis_failed\': True, \'reason\': \'No documents provided for synthesis\'}}...\n\n\nPlease create a comprehensive, well-structured response that directly answers the user\'s query by intelligently combining the above information.\n\nRequirements:\n- Start with a direct answer to their question\n- Include the most relevant details from the analysis\n- Be concise but thorough\n- Use a professional, helpful tone\n- Structure the response logically\n\nFinal Response:'}], 'model': 'claude-3-5-sonnet-20241022', 'temperature': 0.0}}
2025-08-04 17:42:51,546 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-08-04 17:42:51,547 - httpcore.connection - DEBUG - close.started
2025-08-04 17:42:51,547 - httpcore.connection - DEBUG - close.complete
2025-08-04 17:42:51,547 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=None socket_options=None
2025-08-04 17:42:51,584 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x135e14b90>
2025-08-04 17:42:51,584 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x135d8d9a0> server_hostname='api.anthropic.com' timeout=None
2025-08-04 17:42:51,603 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x135bfa9e0>
2025-08-04 17:42:51,603 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-08-04 17:42:51,603 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-04 17:42:51,603 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-08-04 17:42:51,603 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-04 17:42:51,603 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-08-04 17:42:57,009 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 04 Aug 2025 21:42:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'anthropic-ratelimit-input-tokens-limit', b'160000'), (b'anthropic-ratelimit-input-tokens-remaining', b'160000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-08-04T21:42:52Z'), (b'anthropic-ratelimit-output-tokens-limit', b'32000'), (b'anthropic-ratelimit-output-tokens-remaining', b'32000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-08-04T21:42:57Z'), (b'anthropic-ratelimit-requests-limit', b'2000'), (b'anthropic-ratelimit-requests-remaining', b'1999'), (b'anthropic-ratelimit-requests-reset', b'2025-08-04T21:42:51Z'), (b'anthropic-ratelimit-tokens-limit', b'192000'), (b'anthropic-ratelimit-tokens-remaining', b'192000'), (b'anthropic-ratelimit-tokens-reset', b'2025-08-04T21:42:52Z'), (b'request-id', b'req_011CRoQ5AdCENM9hSZ7S1Fq6'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'31219faf-91cc-482b-93f4-cc5aadc25785'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96a13a1cd80ba247-YYZ')])
2025-08-04 17:42:57,010 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-04 17:42:57,011 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-08-04 17:42:57,011 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-04 17:42:57,011 - httpcore.http11 - DEBUG - response_closed.started
2025-08-04 17:42:57,012 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-04 17:42:57,012 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 04 Aug 2025 21:42:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'anthropic-ratelimit-input-tokens-limit': '160000', 'anthropic-ratelimit-input-tokens-remaining': '160000', 'anthropic-ratelimit-input-tokens-reset': '2025-08-04T21:42:52Z', 'anthropic-ratelimit-output-tokens-limit': '32000', 'anthropic-ratelimit-output-tokens-remaining': '32000', 'anthropic-ratelimit-output-tokens-reset': '2025-08-04T21:42:57Z', 'anthropic-ratelimit-requests-limit': '2000', 'anthropic-ratelimit-requests-remaining': '1999', 'anthropic-ratelimit-requests-reset': '2025-08-04T21:42:51Z', 'anthropic-ratelimit-tokens-limit': '192000', 'anthropic-ratelimit-tokens-remaining': '192000', 'anthropic-ratelimit-tokens-reset': '2025-08-04T21:42:52Z', 'request-id': 'req_011CRoQ5AdCENM9hSZ7S1Fq6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '31219faf-91cc-482b-93f4-cc5aadc25785', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96a13a1cd80ba247-YYZ'})
2025-08-04 17:42:57,012 - anthropic._base_client - DEBUG - request_id: req_011CRoQ5AdCENM9hSZ7S1Fq6
2025-08-04 17:42:57,014 - orchestrator_v2.state_management - DEBUG - Cleaned up execution state for: dd7af4ba-dd7d-4c50-9f39-76444ac4df26
2025-08-04 17:42:57,014 - orchestrator_v2.orchestrator_v2 - INFO - ‚úÖ Execution completed with 0.95 confidence
2025-08-04 17:42:57,015 - orchestrator_integration - INFO - ‚úÖ Orchestrator 2.0 completed with 0.95 confidence
2025-08-04 17:42:57,021 - __main__ - INFO - Added assistant response to memory - length: 1419
2025-08-04 17:42:57,021 - __main__ - INFO - Chat response generated - session: terminal-test-session, processing_time: 5484ms, correlation_id: 679497ac-0828-4fb5-92bd-b449240db9fb
üîç EXECUTION PRINT: About to call search_uploaded_docs with params {'doc_name': '20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf', 'query': '--query how are risk and finance related'}
üîç FUNCTION CALLED: search_uploaded_docs with doc_name='20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf'
üîç SEARCH DEBUG: doc_name='20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf', in_store=True, store_keys=6
‚úÖ SEARCH SUCCESS: Document found with 1 chunks
üîç QUERY FILTER: 0 chunks after query filter (was 1)
üîç FINAL RESULT: Returning 0 chunks
üîß STEP OUTPUT DEBUG: search_document -> <class 'list'> with 0 items
üîß SYNTHESIS DEBUG: resolved_params={'documents': [], 'query': '--query how are risk and finance related', 'synthesis_type': 'analysis'}
üîß SYNTHESIS DEBUG: available step_outputs=['search_document']
üîß STEP OUTPUT DEBUG: synthesize_analysis -> <class 'dict'> with non-list items
INFO:     127.0.0.1:60755 - "POST /chat HTTP/1.1" 200 OK
