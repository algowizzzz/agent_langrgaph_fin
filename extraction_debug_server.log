2025-08-04 19:21:24,917 - asyncio - DEBUG - Using selector: KqueueSelector
INFO:     Started server process [51986]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
🔧 MODULE LOADED: document_tools.py at /Users/saadahmed/Desktop/Apps/AWS_Extra/Agent/tools/document_tools.py
INFO:     127.0.0.1:58843 - "GET /health HTTP/1.1" 200 OK
2025-08-04 19:21:36,657 - orchestrator_v2.state_management - INFO - Loaded persistent state from disk
2025-08-04 19:21:36,664 - orchestrator_v2.agent_identity - INFO - Initialized AI Finance and Risk Agent v2.0.0
2025-08-04 19:21:36,957 - tools.synthesis_tools - INFO - Synthesis LLM initialized successfully with model: claude-3-5-sonnet-20241022
2025-08-04 19:21:37,358 - matplotlib - DEBUG - matplotlib data path: /Users/saadahmed/Desktop/Apps/AWS_Extra/Agent/venv/lib/python3.13/site-packages/matplotlib/mpl-data
2025-08-04 19:21:37,362 - matplotlib - DEBUG - CONFIGDIR=/Users/saadahmed/.matplotlib
2025-08-04 19:21:37,363 - matplotlib - DEBUG - interactive is False
2025-08-04 19:21:37,363 - matplotlib - DEBUG - platform is darwin
2025-08-04 19:21:37,408 - matplotlib - DEBUG - CACHEDIR=/Users/saadahmed/.matplotlib
2025-08-04 19:21:37,410 - matplotlib.font_manager - DEBUG - Using fontManager instance from /Users/saadahmed/.matplotlib/fontlist-v390.json
2025-08-04 19:21:38,440 - orchestrator_v2.tool_registry - INFO - Registered tool: get_agent_capabilities (category: ToolReliability.HIGH)
2025-08-04 19:21:38,441 - orchestrator_v2.tool_registry - INFO - Registered tool: get_available_documents (category: ToolReliability.HIGH)
2025-08-04 19:21:38,441 - orchestrator_v2.tool_registry - INFO - Registered tool: get_workflow_information (category: ToolReliability.HIGH)
2025-08-04 19:21:38,441 - orchestrator_v2.state_management - INFO - Loaded persistent state from disk
2025-08-04 19:21:38,442 - orchestrator_v2.orchestrator_v2 - INFO - Orchestrator 2.0 LLM initialized: claude-3-5-sonnet-20241022
2025-08-04 19:21:38,442 - orchestrator_v2.planning_engine - INFO - Fixed Planning Engine initialized
2025-08-04 19:21:38,442 - orchestrator_v2.planning_engine_enhanced - INFO - Enhanced Planning Engine initialized with AI Finance and Risk Agent
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: upload_document (category: document)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: discover_document_structure (category: document)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: search_uploaded_docs (category: search)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: search_multiple_docs (category: search)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: get_all_documents (category: document)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: remove_document (category: document)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: synthesize_content (category: synthesis)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: search_knowledge_base (category: search)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: search_conversation_history (category: search)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: execute_python_code (category: computation)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: process_table_data (category: computation)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: calculate_statistics (category: computation)
2025-08-04 19:21:38,442 - orchestrator_v2.tool_registry - INFO - Registered tool: create_chart (category: visualization)
2025-08-04 19:21:38,443 - orchestrator_v2.tool_registry - INFO - Registered tool: create_wordcloud (category: visualization)
2025-08-04 19:21:38,443 - orchestrator_v2.tool_registry - INFO - Registered tool: create_statistical_plot (category: visualization)
2025-08-04 19:21:38,443 - orchestrator_v2.tool_registry - INFO - Registered tool: create_comparison_chart (category: visualization)
2025-08-04 19:21:38,443 - orchestrator_v2.tool_registry - INFO - Registered tool: analyze_text_metrics (category: analysis)
2025-08-04 19:21:38,443 - orchestrator_v2.tool_registry - INFO - Registered tool: extract_key_phrases (category: analysis)
2025-08-04 19:21:38,443 - orchestrator_v2.tool_registry - INFO - Registered tool: analyze_sentiment (category: analysis)
2025-08-04 19:21:38,443 - orchestrator_v2.tool_registry - INFO - Registered tool: extract_entities (category: analysis)
2025-08-04 19:21:38,443 - orchestrator_v2.orchestrator_v2 - INFO - Registered 23 tools across 7 categories
2025-08-04 19:21:38,443 - orchestrator_v2.orchestrator_v2 - INFO - Orchestrator 2.0 initialized successfully
2025-08-04 19:21:38,443 - orchestrator_integration - INFO - ✅ Orchestrator 2.0 initialized successfully
INFO:     127.0.0.1:58885 - "GET /system/status HTTP/1.1" 200 OK
2025-08-04 19:21:38,447 - __main__ - INFO - Frontend Chat request - session: terminal-test-session, query: --query what tools do you have access to?, correlation_id: 9ec49349-4b1d-4fb4-af48-fbd2340a592b
2025-08-04 19:21:38,449 - __main__ - INFO - Loaded memory context - short_term: 10, summaries: 3
2025-08-04 19:21:38,453 - orchestrator_integration - INFO - 🚀 Using Orchestrator 2.0
2025-08-04 19:21:38,453 - orchestrator_v2.orchestrator_v2 - INFO - 🚀 Orchestrator 2.0 executing query: --query what tools do you have access to?...
2025-08-04 19:21:38,453 - orchestrator_v2.orchestrator_v2 - INFO - 📋 Execution ID: 88bd059d-d855-4166-9109-27fec87e77de, Strategy: adaptive
2025-08-04 19:21:38,453 - orchestrator_v2.orchestrator_v2 - INFO - 🤔 Generating execution plan...
2025-08-04 19:21:38,453 - orchestrator_v2.planning_engine_enhanced - INFO - 🎯 AI Finance and Risk Agent creating plan for: '--query what tools do you have access to?...'
2025-08-04 19:21:38,453 - orchestrator_v2.planning_engine_enhanced - INFO - 📋 Classified workflow: system_awareness
2025-08-04 19:21:38,453 - orchestrator_v2.planning_engine_enhanced - INFO - 💾 Primary memory source: knowledge_base_embeddings
2025-08-04 19:21:38,453 - orchestrator_v2.planning_engine_enhanced - INFO - ✅ Created system_awareness plan with 2 steps
2025-08-04 19:21:38,453 - orchestrator_v2.orchestrator_v2 - INFO - 📋 Created plan with 2 steps
2025-08-04 19:21:38,453 - orchestrator_v2.orchestrator_v2 - INFO - ⚡ Starting plan execution...
2025-08-04 19:21:38,453 - orchestrator_v2.execution_engine - INFO - Starting execution of plan: system_awareness_1754349698
2025-08-04 19:21:38,454 - orchestrator_v2.execution_engine - INFO - Executing step: get_system_info (get_agent_capabilities)
2025-08-04 19:21:38,454 - tools.system_tools - INFO - Retrieving agent capabilities for self-awareness query
2025-08-04 19:21:38,458 - orchestrator_v2.execution_engine - INFO - Step 'get_system_info' completed successfully
2025-08-04 19:21:38,458 - orchestrator_v2.execution_engine - INFO - Executing step: synthesize_system_info (synthesize_content)
2025-08-04 19:21:38,458 - tools.synthesis_tools - INFO - Synthesizing system_awareness for query: '--query what tools do you have access to?' from 1 documents
2025-08-04 19:21:38,497 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'files': None, 'idempotency_key': 'stainless-python-retry-8b88ca62-0648-4df7-a63a-e8aed2706736', 'json_data': {'max_tokens': 1024, 'messages': [{'role': 'user', 'content': 'The user is asking about system capabilities. Please provide a detailed response using the provided system information.\n\nQuery: --query what tools do you have access to?\n\nSystem Information:\n=== 1 ===\n{\'agent_identity\': {\'name\': \'AI Finance and Risk Agent\', \'version\': \'2.0.0\', \'specialization\': \'Financial Analysis, Risk Assessment, and Productivity\'}, \'core_capabilities\': [\'Document Analysis & Synthesis\', \'Multi-Document Financial Comparison\', \'Q&A with Comprehensive Fallback Chain\', \'Progressive Data Analysis\', \'Memory Search\', \'System Self-Awareness\'], \'workflow_types\': [\'document_analysis\', \'multi_doc_comparison\', \'qa_fallback_chain\', \'data_analysis\', \'memory_search\', \'system_awareness\'], \'memory_sources\': [\'uploaded_documents\', \'knowledge_base_embeddings\', \'long_term_conversation\', \'llm_knowledge_base\'], \'document_access\': {\'has_document_store\': True, \'total_documents\': 6, \'supported_formats\': [\'PDF\', \'DOCX\', \'TXT\', \'CSV\', \'Excel (multi-sheet)\'], \'sample_documents\': [\'20250804_165506_263c93f7-5bcb-4741-b4f2-a6d0fff1aa15_car24_chpt1_0.pdf\', \'20250804_165507_11ec1b2f-46d1-4b7a-9bb8-d9308689a671_car24_chpt7.pdf\', \'20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf\']}, \'available_tools\': {\'total_tools\': 23, \'registry_status\': \'live_registry_data\', \'tools_by_category\': {<ToolReliability.HIGH: 0.95>: [\'get_agent_capabilities - Retrieve agent capability information\', \'get_available_documents - Get information about available documents\', \'get_workflow_information - Get details about available workflows\'], \'document\': [\'upload_document - Process and store new documents (PDF, DOCX, TXT, CSV, Excel)\', \'discover_document_structure - Analyze document structure and metadata\', \'get_all_documents - List all available documents\', \'remove_document - Remove documents from storage\'], \'search\': [\'search_uploaded_docs - Search and retrieve uploaded documents\', \'search_multiple_docs - Compare and analyze multiple documents simultaneously\', \'search_knowledge_base - Access external knowledge resources\', \'search_conversation_history - Access previous conversation context\'], \'synthesis\': [\'synthesize_content - Generate analysis and summaries from documents\'], \'computation\': [\'execute_python_code - Execute custom calculations and data processing\', \'process_table_data - Process structured table and spreadsheet data\', \'calculate_statistics - Calculate financial metrics and statistical measures\'], \'visualization\': [\'create_chart - Generate charts and graphs from data\', \'create_wordcloud - Create visual word frequency representations\', \'create_statistical_plot - Generate statistical plots and distributions\', \'create_comparison_chart - Create comparative visualizations\'], \'analysis\': [\'analyze_text_metrics - Analyze text structure and readability metrics\', \'extract_key_phrases - Extract important phrases and concepts\', \'analyze_sentiment - Analyze emotional tone and sentiment\', \'extract_entities - Extract named entities and key terms\']}, \'all_tools\': [{\'name\': \'get_agent_capabilities\', \'category\': <ToolReliability.HIGH: 0.95>, \'description\': \'get_agent_capabilities - Retrieve agent capability information\'}, {\'name\': \'get_available_documents\', \'category\': <ToolReliability.HIGH: 0.95>, \'description\': \'get_available_documents - Get information about available documents\'}, {\'name\': \'get_workflow_information\', \'category\': <ToolReliability.HIGH: 0.95>, \'description\': \'get_workflow_information - Get details about available workflows\'}, {\'name\': \'upload_document\', \'category\': \'document\', \'description\': \'upload_document - Process and store new documents (PDF, DOCX, TXT, CSV, Excel)\'}, {\'name\': \'discover_document_structure\', \'category\': \'document\', \'description\': \'discover_document_structure - Analyze document structure and metadata\'}, {\'name\': \'search_uploaded_docs\', \'category\': \'search\', \'description\': \'search_uploaded_docs - Search and retrieve uploaded documents\'}, {\'name\': \'search_multiple_docs\', \'category\': \'search\', \'description\': \'search_multiple_docs - Compare and analyze multiple documents simultaneously\'}, {\'name\': \'get_all_documents\', \'category\': \'document\', \'description\': \'get_all_documents - List all available documents\'}, {\'name\': \'remove_document\', \'category\': \'document\', \'description\': \'remove_document - Remove documents from storage\'}, {\'name\': \'synthesize_content\', \'category\': \'synthesis\', \'description\': \'synthesize_content - Generate analysis and summaries from documents\'}, {\'name\': \'search_knowledge_base\', \'category\': \'search\', \'description\': \'search_knowledge_base - Access external knowledge resources\'}, {\'name\': \'search_conversation_history\', \'category\': \'search\', \'description\': \'search_conversation_history - Access previous conversation context\'}, {\'name\': \'execute_python_code\', \'category\': \'computation\', \'description\': \'execute_python_code - Execute custom calculations and data processing\'}, {\'name\': \'process_table_data\', \'category\': \'computation\', \'description\': \'process_table_data - Process structured table and spreadsheet data\'}, {\'name\': \'calculate_statistics\', \'category\': \'computation\', \'description\': \'calculate_statistics - Calculate financial metrics and statistical measures\'}, {\'name\': \'create_chart\', \'category\': \'visualization\', \'description\': \'create_chart - Generate charts and graphs from data\'}, {\'name\': \'create_wordcloud\', \'category\': \'visualization\', \'description\': \'create_wordcloud - Create visual word frequency representations\'}, {\'name\': \'create_statistical_plot\', \'category\': \'visualization\', \'description\': \'create_statistical_plot - Generate statistical plots and distributions\'}, {\'name\': \'create_comparison_chart\', \'category\': \'visualization\', \'description\': \'create_comparison_chart - Create comparative visualizations\'}, {\'name\': \'analyze_text_metrics\', \'category\': \'analysis\', \'description\': \'analyze_text_metrics - Analyze text structure and readability metrics\'}, {\'name\': \'extract_key_phrases\', \'category\': \'analysis\', \'description\': \'extract_key_phrases - Extract important phrases and concepts\'}, {\'name\': \'analyze_sentiment\', \'category\': \'analysis\', \'description\': \'analyze_sentiment - Analyze emotional tone and sentiment\'}, {\'name\': \'extract_entities\', \'category\': \'analysis\', \'description\': \'extract_entities - Extract named entities and key terms\'}]}, \'system_status\': \'operational\'}\n\nRequirements:\n- If the query asks about "tools", list ALL individual tool names with descriptions\n- If there\'s an "available_tools" section with "all_tools", enumerate each tool specifically\n- Include the total number of tools available\n- Be specific and comprehensive, not just categorical\n- Use the exact tool names and descriptions from the data\n- If there are 23 tools, list all 23 tools individually\n\nResponse:'}], 'model': 'claude-3-5-sonnet-20241022', 'temperature': 0.0}}
2025-08-04 19:21:38,498 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-08-04 19:21:38,501 - httpcore.connection - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=None socket_options=None
2025-08-04 19:21:38,527 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x156a89be0>
2025-08-04 19:21:38,527 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x156a2e2a0> server_hostname='api.anthropic.com' timeout=None
2025-08-04 19:21:38,561 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1566339d0>
2025-08-04 19:21:38,562 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-08-04 19:21:38,562 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-04 19:21:38,562 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-08-04 19:21:38,562 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-04 19:21:38,562 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-08-04 19:21:44,408 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 04 Aug 2025 23:21:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-input-tokens-limit', b'160000'), (b'anthropic-ratelimit-input-tokens-remaining', b'159000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-08-04T23:21:39Z'), (b'anthropic-ratelimit-output-tokens-limit', b'32000'), (b'anthropic-ratelimit-output-tokens-remaining', b'32000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-08-04T23:21:45Z'), (b'anthropic-ratelimit-requests-limit', b'2000'), (b'anthropic-ratelimit-requests-remaining', b'1999'), (b'anthropic-ratelimit-requests-reset', b'2025-08-04T23:21:38Z'), (b'anthropic-ratelimit-tokens-limit', b'192000'), (b'anthropic-ratelimit-tokens-remaining', b'191000'), (b'anthropic-ratelimit-tokens-reset', b'2025-08-04T23:21:39Z'), (b'request-id', b'req_011CRoXc56VejwG5HNoxqbqC'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'anthropic-organization-id', b'31219faf-91cc-482b-93f4-cc5aadc25785'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'96a1cad09b04ac87-YYZ'), (b'Content-Encoding', b'gzip')])
2025-08-04 19:21:44,411 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-04 19:21:44,411 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-08-04 19:21:44,412 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-04 19:21:44,412 - httpcore.http11 - DEBUG - response_closed.started
2025-08-04 19:21:44,412 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-04 19:21:44,413 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 04 Aug 2025 23:21:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-input-tokens-limit': '160000', 'anthropic-ratelimit-input-tokens-remaining': '159000', 'anthropic-ratelimit-input-tokens-reset': '2025-08-04T23:21:39Z', 'anthropic-ratelimit-output-tokens-limit': '32000', 'anthropic-ratelimit-output-tokens-remaining': '32000', 'anthropic-ratelimit-output-tokens-reset': '2025-08-04T23:21:45Z', 'anthropic-ratelimit-requests-limit': '2000', 'anthropic-ratelimit-requests-remaining': '1999', 'anthropic-ratelimit-requests-reset': '2025-08-04T23:21:38Z', 'anthropic-ratelimit-tokens-limit': '192000', 'anthropic-ratelimit-tokens-remaining': '191000', 'anthropic-ratelimit-tokens-reset': '2025-08-04T23:21:39Z', 'request-id': 'req_011CRoXc56VejwG5HNoxqbqC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'anthropic-organization-id': '31219faf-91cc-482b-93f4-cc5aadc25785', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '96a1cad09b04ac87-YYZ', 'content-encoding': 'gzip'})
2025-08-04 19:21:44,413 - anthropic._base_client - DEBUG - request_id: req_011CRoXc56VejwG5HNoxqbqC
2025-08-04 19:21:44,425 - tools.synthesis_tools - INFO - Successfully synthesized system_awareness for query '--query what tools do you have access to?'
2025-08-04 19:21:44,426 - orchestrator_v2.execution_engine - INFO - Step 'synthesize_system_info' completed successfully
2025-08-04 19:21:44,426 - orchestrator_v2.execution_engine - INFO - Plan execution completed. Success: 2, Failed: 0
2025-08-04 19:21:44,426 - orchestrator_v2.orchestrator_v2 - INFO - 🔧 BYPASS DEBUG: user_query=--query what tools do you have access to?, is_system_awareness=True
2025-08-04 19:21:44,426 - orchestrator_v2.orchestrator_v2 - INFO - 🚀 BYPASSING final synthesis for system_awareness - using direct extraction
2025-08-04 19:21:44,426 - orchestrator_v2.orchestrator_v2 - INFO - 🔍 EXTRACTION DEBUG: execution_results keys: ['get_system_info', 'synthesize_system_info']
2025-08-04 19:21:44,426 - orchestrator_v2.orchestrator_v2 - INFO - 🔍 EXTRACTION DEBUG: get_system_info -> <class 'orchestrator_v2.execution_engine.ExecutionResult'> -> ExecutionResult(step_id='get_system_info', status=<ExecutionStatus.COMPLETED: 'completed'>, output={'agent_identity': {'name': 'AI Finance and Risk Agent', 'version': '2.0.0', 'specialization': 'Finan...
2025-08-04 19:21:44,426 - orchestrator_v2.orchestrator_v2 - INFO - 🔍 EXTRACTION DEBUG: synthesize_system_info -> <class 'orchestrator_v2.execution_engine.ExecutionResult'> -> ExecutionResult(step_id='synthesize_system_info', status=<ExecutionStatus.COMPLETED: 'completed'>, output={'success': True, 'synthesis_type': 'system_awareness', 'query': '--query what tools do you ha...
2025-08-04 19:21:44,426 - orchestrator_v2.orchestrator_v2 - INFO - 🔍 EXTRACTION DEBUG: Found synthesize_system_info -> <class 'orchestrator_v2.execution_engine.ExecutionResult'>
2025-08-04 19:21:44,426 - orchestrator_v2.orchestrator_v2 - INFO - 🔍 EXTRACTION DEBUG: Checking fallback get_system_info -> <class 'orchestrator_v2.execution_engine.ExecutionResult'>
2025-08-04 19:21:44,426 - orchestrator_v2.orchestrator_v2 - INFO - 🔍 EXTRACTION DEBUG: Checking fallback synthesize_system_info -> <class 'orchestrator_v2.execution_engine.ExecutionResult'>
2025-08-04 19:21:44,426 - orchestrator_v2.orchestrator_v2 - WARNING - 🔍 EXTRACTION DEBUG: Could not find synthesis result in execution_results
2025-08-04 19:21:44,426 - orchestrator_v2.state_management - DEBUG - Cleaned up execution state for: 88bd059d-d855-4166-9109-27fec87e77de
2025-08-04 19:21:44,426 - orchestrator_v2.orchestrator_v2 - INFO - ✅ Execution completed with 0.88 confidence
2025-08-04 19:21:44,426 - orchestrator_integration - INFO - ✅ Orchestrator 2.0 completed with 0.88 confidence
2025-08-04 19:21:44,427 - __main__ - INFO - Added assistant response to memory - length: 68
2025-08-04 19:21:44,427 - __main__ - INFO - Chat response generated - session: terminal-test-session, processing_time: 5978ms, correlation_id: 9ec49349-4b1d-4fb4-af48-fbd2340a592b
🤖 Self-awareness query detected → SYSTEM_AWARENESS
🔧 SYNTHESIS DEBUG: resolved_params={'documents': [{'agent_identity': {'name': 'AI Finance and Risk Agent', 'version': '2.0.0', 'specialization': 'Financial Analysis, Risk Assessment, and Productivity'}, 'core_capabilities': ['Document Analysis & Synthesis', 'Multi-Document Financial Comparison', 'Q&A with Comprehensive Fallback Chain', 'Progressive Data Analysis', 'Memory Search', 'System Self-Awareness'], 'workflow_types': ['document_analysis', 'multi_doc_comparison', 'qa_fallback_chain', 'data_analysis', 'memory_search', 'system_awareness'], 'memory_sources': ['uploaded_documents', 'knowledge_base_embeddings', 'long_term_conversation', 'llm_knowledge_base'], 'document_access': {'has_document_store': True, 'total_documents': 6, 'supported_formats': ['PDF', 'DOCX', 'TXT', 'CSV', 'Excel (multi-sheet)'], 'sample_documents': ['20250804_165506_263c93f7-5bcb-4741-b4f2-a6d0fff1aa15_car24_chpt1_0.pdf', '20250804_165507_11ec1b2f-46d1-4b7a-9bb8-d9308689a671_car24_chpt7.pdf', '20250804_165511_9eaada37-d793-4331-9f62-5ea15b61a1be_20250801_215126_40e96e22-a0e5-41e0-a232-5f2478768aad_riskandfinace.pdf']}, 'available_tools': {'total_tools': 23, 'registry_status': 'live_registry_data', 'tools_by_category': {<ToolReliability.HIGH: 0.95>: ['get_agent_capabilities - Retrieve agent capability information', 'get_available_documents - Get information about available documents', 'get_workflow_information - Get details about available workflows'], 'document': ['upload_document - Process and store new documents (PDF, DOCX, TXT, CSV, Excel)', 'discover_document_structure - Analyze document structure and metadata', 'get_all_documents - List all available documents', 'remove_document - Remove documents from storage'], 'search': ['search_uploaded_docs - Search and retrieve uploaded documents', 'search_multiple_docs - Compare and analyze multiple documents simultaneously', 'search_knowledge_base - Access external knowledge resources', 'search_conversation_history - Access previous conversation context'], 'synthesis': ['synthesize_content - Generate analysis and summaries from documents'], 'computation': ['execute_python_code - Execute custom calculations and data processing', 'process_table_data - Process structured table and spreadsheet data', 'calculate_statistics - Calculate financial metrics and statistical measures'], 'visualization': ['create_chart - Generate charts and graphs from data', 'create_wordcloud - Create visual word frequency representations', 'create_statistical_plot - Generate statistical plots and distributions', 'create_comparison_chart - Create comparative visualizations'], 'analysis': ['analyze_text_metrics - Analyze text structure and readability metrics', 'extract_key_phrases - Extract important phrases and concepts', 'analyze_sentiment - Analyze emotional tone and sentiment', 'extract_entities - Extract named entities and key terms']}, 'all_tools': [{'name': 'get_agent_capabilities', 'category': <ToolReliability.HIGH: 0.95>, 'description': 'get_agent_capabilities - Retrieve agent capability information'}, {'name': 'get_available_documents', 'category': <ToolReliability.HIGH: 0.95>, 'description': 'get_available_documents - Get information about available documents'}, {'name': 'get_workflow_information', 'category': <ToolReliability.HIGH: 0.95>, 'description': 'get_workflow_information - Get details about available workflows'}, {'name': 'upload_document', 'category': 'document', 'description': 'upload_document - Process and store new documents (PDF, DOCX, TXT, CSV, Excel)'}, {'name': 'discover_document_structure', 'category': 'document', 'description': 'discover_document_structure - Analyze document structure and metadata'}, {'name': 'search_uploaded_docs', 'category': 'search', 'description': 'search_uploaded_docs - Search and retrieve uploaded documents'}, {'name': 'search_multiple_docs', 'category': 'search', 'description': 'search_multiple_docs - Compare and analyze multiple documents simultaneously'}, {'name': 'get_all_documents', 'category': 'document', 'description': 'get_all_documents - List all available documents'}, {'name': 'remove_document', 'category': 'document', 'description': 'remove_document - Remove documents from storage'}, {'name': 'synthesize_content', 'category': 'synthesis', 'description': 'synthesize_content - Generate analysis and summaries from documents'}, {'name': 'search_knowledge_base', 'category': 'search', 'description': 'search_knowledge_base - Access external knowledge resources'}, {'name': 'search_conversation_history', 'category': 'search', 'description': 'search_conversation_history - Access previous conversation context'}, {'name': 'execute_python_code', 'category': 'computation', 'description': 'execute_python_code - Execute custom calculations and data processing'}, {'name': 'process_table_data', 'category': 'computation', 'description': 'process_table_data - Process structured table and spreadsheet data'}, {'name': 'calculate_statistics', 'category': 'computation', 'description': 'calculate_statistics - Calculate financial metrics and statistical measures'}, {'name': 'create_chart', 'category': 'visualization', 'description': 'create_chart - Generate charts and graphs from data'}, {'name': 'create_wordcloud', 'category': 'visualization', 'description': 'create_wordcloud - Create visual word frequency representations'}, {'name': 'create_statistical_plot', 'category': 'visualization', 'description': 'create_statistical_plot - Generate statistical plots and distributions'}, {'name': 'create_comparison_chart', 'category': 'visualization', 'description': 'create_comparison_chart - Create comparative visualizations'}, {'name': 'analyze_text_metrics', 'category': 'analysis', 'description': 'analyze_text_metrics - Analyze text structure and readability metrics'}, {'name': 'extract_key_phrases', 'category': 'analysis', 'description': 'extract_key_phrases - Extract important phrases and concepts'}, {'name': 'analyze_sentiment', 'category': 'analysis', 'description': 'analyze_sentiment - Analyze emotional tone and sentiment'}, {'name': 'extract_entities', 'category': 'analysis', 'description': 'extract_entities - Extract named entities and key terms'}]}, 'system_status': 'operational'}], 'query': '--query what tools do you have access to?', 'synthesis_type': 'system_awareness'}
🔧 SYNTHESIS DEBUG: available step_outputs=['get_system_info']
🔧 STEP OUTPUT DEBUG: synthesize_system_info -> <class 'dict'> with non-list items
INFO:     127.0.0.1:58898 - "POST /chat HTTP/1.1" 200 OK
